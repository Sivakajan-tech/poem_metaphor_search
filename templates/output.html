<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css" rel="stylesheet">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js"> </script>
<!------ Include the above in your HEAD tag ---------->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
<div class="container">
    <br>
    <p class="text-center h2">Tamil Metaphor Search Engine
    </p>
    <hr>
    <div class="row">
        <aside class="col-sm-4" >
            <p>Fundamental Search</p>
            <div class="card">
                <article class="card-body">

                    <h4 class="card-title mb-4 mt-1">Simple Search</h4>
                    <form action="http://127.0.0.1:6997/search" method="post">
                        <div class="form-group">
                            <label>Type anything</label>
                            <input name="searchTerm" class="form-control" placeholder="Type anything...">
                        </div> <!-- form-group// -->
        
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-block"> Search </button>
                        </div> <!-- form-group// -->
                    </form>
                </article>
            </div> <!-- card.// -->
        </aside><!-- col.// -->
        <aside class="col-sm-4">
            <p>Filter Search</p>
            <div class="card">
                <article class="card-body">
                    <h4 class="card-title mb-4 mt-1">Filter Search</h4>
                    <form action="http://127.0.0.1:6997/filter_search" method="post">
                        <div class="form-group">
                            <label>Author</label>
                            <select class="form-control" name="Author">
                                <option value="none">None</option>
                                <option value="vairamuthu">வைரமுத்து</option>
                                <option value="damarai">தாமரை</option>
                                <option value="visj"> வ. ஐ. ச. ஜெயபாலன்</option>
                                <option value="tshankar">தபு ஷங்கர்</option>
                                <option value="vali">கவிஞர் வாலி</option>
                                <option value="leena">லீனா மணிமேகலை</option>
                            </select>
                        </div> 
                    <div>
                        <label>Start Year</label>
                        <input type="text" class="form-control" name="start_year" id="start_year" value="2000" />
                        <label>End Year</label>
                        <input type="text" class="form-control" name="end_year" id="end_year" value="2020" />
                        
                    </div>

                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-block"> Search </button>
                        </div>
                    </form>
                </article>
            </div> 
        </aside>

        <aside class="col-sm-4">
            <p>Column Search</p>
            <div class="card">
                <article class="card-body">
        
                    <h4 class="card-title mb-4 mt-1">Column Search</h4>
                    <form action="http://127.0.0.1:6997/column_search" method="post">
                        <div class="form-group">
                            <label>Column</label>
                            <select class="form-control" name="poem_column">
                                <option value="none">None</option>
                                <option value="﻿Poetic Opening">Poetic Opening</option>
                                <option value="Poem">Poem</option>
                                <option value="Author"> Author</option>
                                <option value="Lines">Lines</option>
                                <option value="Metaphorical Name">Metaphorical Name</option>
                                <option value="year">year</option>
                            </select>
                        </div> 
                    <div class="form-group">
                        <label>Type anything</label>
                        <input name="searchTerm3" class="form-control" placeholder="Type anything...">
                    </div> <!-- form-group// -->

                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-block"> Search </button>
                        </div>
                    </form>
                </article>
            </div> 
        </aside>
        <aside class="col-sm-4" >
            <p>Advanced Search</p>
            <div class="card">
                <article class="card-body">
                    <h4 class="card-title mb-4 mt-1">Advanced Search</h4>
                    <form action="http://127.0.0.1:6997/advanced_search" method="post">
                        <div class="form-group">
                            <label>Type anything</label>
                            <input name="searchTerm2" class="form-control" placeholder="Type anything...">
                        </div> <!-- form-group// -->
        
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-block"> Search </button>
                        </div> <!-- form-group// -->
                    </form>
                </article>
            </div> <!-- card.// -->
        </aside>
    </div>

    {% if hits %}
    <hgroup class="mb20">
        <h1>Search Results</h1>
        <h2 class="lead" id="results"><strong class="text-danger">{{ num_results }}</strong> results were found for the
            search for <strong class="text-success">{{ query }}</strong></h2>
        <h2 class="lead" id="results"> About <strong class="text-danger">({{ time }}ms)</strong></h2>
    </hgroup>
    <section id='song_section' class="col-md-8">
        {% for hit in hits %}
        <article class="search-result row">
            <div class="col-md-12">
                <h3><a href="#" title="">{{ hit._source.get( "﻿Poetic Opening") }}</a></h3>
                <ul class="meta-search">
    
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Poem: {{ hit._source["Poem"] }} </span>
                    </li>
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Starting: {{ hit._source[ "﻿Poetic Opening"] }}</span></li>
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Author: {{ hit._source["Author"] }} </span></li>
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Lines: {{ hit._source["Lines"] }} </span></li>    
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Metaphor: {{ hit._source["Metaphorical Name"] }}</span></li>
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Meaning: {{ hit._source["meaning"]
                            }}</span></li>
                    <li><i class="glyphicon glyphicon-tags"></i> <span>Released Year: {{ hit._source["year"]
                            }}</span></li>
                            {% if hit._source.get("extra1") is not none %}
                            <li><i class="glyphicon glyphicon-tags"></i> <span>Metaphor2: {{ hit._source.get("extra1") }}</span></li>
                            <li><i class="glyphicon glyphicon-tags"></i> <span>Meaning: {{ hit._source.get("meaning1") }}</span></li>
                        {% endif %}
                        
                        
                </ul>
                <p style="white-space: pre-line">{{ hit._source.சுருக்கம் }}</p>
            </div>
            <div class="col-md-6">
    
            </div>
            <span class="clearfix borda"></span>
        </article>
        {% endfor %}
    </section>
    
    
    {% else %}
    {% if init %}
    <hgroup class="mb20">
        <h1>Tamil Metaphor Search Engine </h1>
        <h2 class="lead">Please enter the search query in the box</strong></h2>
    </hgroup>
    {% else %}
    <hgroup class="mb20">
        <h1>Search Results</h1>
        <h2 class="lead"><strong class="text-danger">0</strong> results were found for the search for <strong
                class="text-danger">{{ query }}</strong></h2>
    </hgroup>
    {% endif %}
    {% endif %}
</div>
<!--container end.//-->

<script>
$("#start_year").datepicker({
format: "yyyy",
viewMode: "years",
minViewMode: "years",
autoclose:true //to close picker once year is selected
});
    $("#end_year").datepicker({
        format: "yyyy",
        viewMode: "years",
        minViewMode: "years",
        autoclose: true //to close picker once year is selected
    });
</script>